<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Aggiunta prodotti ad Ordine</title>
 
 	<!-- Bootstrap -->   
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <!-- JQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>

</head>
<body>
	
	<div th:replace="~{fragments/navbar :: navmenu}"></div>

<div class="container mt-5">
	
	<!-- Dati ORDINE  -->
    <form th:action="@{/aggiungi_prodotto_ordine}" method="post" th:object="${listaprodotti}">
		<h3 class="mb-3">Aggiunta prodotti ad Ordine</h3>
		<h5>Cliente: [[${session.ordine.nomeCliente}]]</h5>
		<h5 th:text="'Data ordine: ' + ${session.ordine.dataOrdine}"></h5> 
        <div class="mb-3">
			<select name="prodotto_in_aggiunta">
			    <option th:each="prodotto : ${listaprodottiselect}"
			    		th:value="${prodotto.id}" 
			            th:text="${prodotto.nome + ' - ' + prodotto.descrizione + ' - ' + prodotto.prezzo}">
			    </option>
			</select>
        </div>

        <button type="submit" class="btn btn-primary">Aggiungi all'ordine</button>
    </form>
    
    <hr class="m-5">
    
    <!-- Prodotti in Ordine -->
    <div class="container mt-5">
        <h1>Prodotti</h1>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nome</th>
                    <th>Descrizione</th>
                    <th>Prezzo</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="prodotto : ${listaprodotti}" class="align-middle">
                    <td th:text="${prodotto.id}"></td>
                    <td th:text="${prodotto.nome}"></td>
                    <td th:text="${prodotto.descrizione}"></td>
                    <td th:text="${prodotto.prezzo}"></td>
                    <td> 
						<button type="button" class="btn btn-danger btn-sm float-end mx-2" th:onclick='' id="deleteproduct" th:data-productid="${prodotto.id}">Elimina</button>					
						<button type="button" class="btn btn-warning btn-sm float-end mx-2" th:onclick="">Aggiorna</button>
					</td>
                </tr>
            </tbody>
        </table>
	</div>

</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
